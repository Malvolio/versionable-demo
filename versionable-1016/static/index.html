<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Demonstration of Versionable Concept</title>
    <style>
body {
    font-family: Lato;
    padding: 50px 100px 0px;
}
    </style>
  </head>
  <body>
    <h2>Demonstration of Versionable Concept</h2>
    <p>This site demonstrates multiple versions of the same app.
    The versions available are</p>
    <ul>
       <li><a target="_blank" href="static/index-jan.html">January</a>
       <li><a target="_blank" href="static/index-feb.html">February</a>
       <li><a target="_blank" href="static/index-mar.html">March</a>
    </ul>
    <p>
    For the purposes of demonstration, the different versions are available as different index files, each
    one with a <tt>base</tt> tag that causes all static assets to be retrieved from the appropropriate place.
    In production, there would usually be only one file available, named <tt>index.html</tt>, and back-versions
    would be accessed through complicated direct URLs, like this:</p>
    <ul>
     <li>
      <a target="_blank" href="https://cdn.rawgit.com/Malvolio/versionable-demo/cdc7f6d/public/index.html">https://cdn.rawgit.com/Malvolio/versionable-demo/cdc7f6d/public/index.html</a> &mdash; the static version, available directly through the CDN.  The checked-in version of index.html lacks the <tt>base</tt> tag and so all other files will be retrieved from the same directory.
     </li>
     <li>
      <a target="_blank" href="/version/cdc7f6d">http://versionable-1016.appspot.com/version/cdc7f6d</a> &mdash; the live version, generated by a template, the old-fashioned way.  This generated file has the advantage of sharing an origin domain with the back-end service, avoiding CORS problems.
     </li>
    </ul>
    <p>
    This concept uses publically (and freely) available services to take the place of more traditional and
    more constrained file-service.  All versions of the file are kept in a Git repository (in this demo,
    <a href="https://github.com/Malvolio/versionable-demo">a GitHub.com public repo</a>, although
    in production we would probably use our own Git server).  It would be inefficient, for
    several reasons, to retrieve files directly from the repo, so I put a CDN (in this demo, RawGit.com but in
    production we would probably use Akamai in front of our own production service to give constrained access to our
    internal Git server) in front of the repo.  Google App Engine serves this page and implements the <tt>/version</tt> op.
    </p>
     <ul>
       <li><b>Flexibility</b> &mdash; every version of the front-end software would be instantly available to every
       user (including QA and Demo)</li>
       <li><b>Ease of use</b> &mdash; all that would be needed to run a particular version would be the knowledge 
       of that version's commit-hash</li>
       <li><b>Performance</b> &mdash; except the very small index file, all static assets are retrieved from edge servers very near the user</li>
       <li><b>Cost</b> &mdash; it is much cheaper to serve files out of a CDN than out of our servers</li>
    </ul>
    </p>
  </body>
</html>
